<!DOCTYPE html>
   <head>
      <meta charset="UTF-8">
      <title>Главная страница</title>
      <link rel="stylesheet" href="style.css">
      <link href="https://fonts.googleapis.com/css?family=Arimo&display=swap" rel="stylesheet">
      <link href="https://fonts.googleapis.com/css?family=Roboto+Slab&display=swap" rel="stylesheet">
      <style>
         .valid
         {
            border: 3px solid green;
         }
         .invalid
         {
            border: 3px solid red;
         }
         .undef
         {
            border: 3px solid grey;
         }


         #authorization
         {
           width: 20%;
           float: left;
           margin-top: 0;
           margin-left: 15px;
           border: 1px solid black;
         }
         #authorization span
         {
            margin-left: 2%;
            display:  inline-block;
            width: 10%;
         }
         #authorization input
         {
            display: inline-block;
            margin-left: 15%;
            width: 50%;
         }
         #authorization input[type="button"]
         {
            margin-left: 5%;
         }


         #notice
         {
            margin-left: 15px;
            margin-top: 10px;
            clear: both;
            border: 1px solid black;
            width: 20%;
            overflow: hidden;
            float: left;
         }
         #results
         {
            margin-left: 23%;
            margin-top: 0;
            width: 75%;
            border: 1px solid black;
            overflow: hidden;
         }
         #toComeIn
         {
            margin-left: 5%;
         }
         #join
         {
            margin-left: 7%;
         }

         #noticeTitle, #authorizationTitle
         {
            text-align: center;
            margin: 0;
            background-color: rgb(39, 170, 226);
         }

         #search
         {
            margin-left: 0;
         }

         #registration
         {
            z-index: 150;
            display: none;

            width: 30%;
            height: 45%;
            position: absolute;
            left: 35%;
            top: 30%;
            border: 1px solid black;
            padding: 0;
            border-radius: 20px;
            background-color: rgb(39, 170, 226);
         }
         #registration p
         {
            font-size: 1.5em;
            color: white;
            text-align: center;
         }
         #closeCross
         {
            cursor: pointer;
            margin-left: 94%;
            margin-top: 0;
         }
         #registration input
         {
            width: 70%;
            margin: 10px;
            height: 100%;
         }
         #registration table td
         {
            background-color: rgb(39, 170, 226);
            border: none;
         }



         #blackout
         {
            background-color: rgba(1, 1, 1, 0.75);
            position: fixed;
            left: 0;
            right: 0;
            top: 0;
            bottom: 0;

            z-index: 100;
            display: none;
         }



      </style>
   </head>
   <body>
      <header>
         <p><a href="main.html"><img src="book.png" width="70px"></a>Новосибирский книжный каталог</p>
      </header>
      <!--Шапка сайта-->
      <table id="siteHead">
         <tr>
            <td id="col1" title="Перейти на главную страницу"><a href="main.html">Главная</a></li></td>
            <td id="userMenu">
               <p>Личный кабинет</p>
                  <ul> 
                     <li title="Посмотреть список забронированных книг"><a href="resrvation.html">Список бронирвоаний</a></li>
                     <li title="Добавить новую книгу в каталог"><a href="adding_book.html">Добавление новой книги</a></li>
                     <li id="getUsersList"><a href="">Получить список пользователей</a></li>
                  </ul>
               </div>
            </td>
            <td id="col3" title="Поиск по нескольким полям"><a href="advanced_search.html">Расширенный поиск</a></td>
            <td id="col4">

            </td>
         </tr>
         <tr id="secondRaw">
            <!--Поисковик-->
            <td colspan="4">
               <form id="search" onsubmit="return validate();">
                  <input type="text" placeholder="Поиск" id="searchPlace" pattern="^[А-Яа-яЁё\s]+$" required
                     title="Вводите слова на русском без знаков препинания" autofocus>
                  <button type="submit" title="Начать поиск">Поиск</button>
                  <a href="advanced_search.html">Расширенный поиск</a>
               </form>
            </td>
         </tr>
      </table>

      



            
            <!--Форма для авторизации-->
            <form id="authorization"> 
                  <p id="authorizationTitle">Вход в систему</p>
                  <p><span>Логин:</span> <input type="text"></p>
                  <p><span>Пароль:</span> <input type="password"></p>
                  <p><button id="toComeIn">Войти</button> <input id="join" type="button" onclick="show('block')" value="Зарегистрироваться"></p>
            </form>

            <script>
            function validate()
            {
               var searchPlace = document.getElementById("searchPlace");

               if (!searchPlace.value)
               {
                  alert("Ошибка: поле для поиска не заполнено!");
                  searchPlace.style.backgroundColor = red;
                  return false;
               }
            }
            </script>

         


            
            
            <!--Уведомления-->
            <div id="notice">
               <p id="noticeTitle">Уведомления</p>
               <p>Уведомление 1</p>
               <p>Уведомление 2</p>
               <p>Уведомление 3</p>
            </div>

            <!--Результаты поиска-->
            <div id="results">
               Тут результаты поиска
            </div>


            <!--Затемнение-->
            <div id="blackout">

            </div>


            <!--Регистарция-->
               <form id="registration">
                  <img src="cross.png" alt="закрыть" width="20px" id="closeCross" onclick="show('none')">
                  <p>Информация для регистрации</p>
                  <table>
                     <tr>
                        <td><input data-rule="data" type="text" placeholder="Фамилия" id="surname"></td>
                     </tr>
                     <tr>
                        <td><input data-rule="data" type="text" placeholder="Имя" id="name"></td>
                     </tr>
                     <tr>
                        <td><input data-rule="email" type="text" placeholder="Электронная почта" id="email"></td>
                     </tr>
                     <tr>
                        <td><input type="password" placeholder="Пароль" id="pass"></td>
                     </tr>
                     <tr>
                        <td><button>Регистарция</button></td>
                     </tr>
                  </table>
               </form>
               
               <script>
                  let inputs = document.querySelectorAll('input[data-rule]');

                  for (let input of inputs) {
                     input.addEventListener('blur', function () {
                        let rule = this.dataset.rule;
                        let value = this.value;
                        let check;

                        if (value == "")
                           this.classList.add('undef');
                        else
                        {
                           switch (rule) {
                              case "data":
                                 check = /^[А-Яа-яЁё]/.test(value);
                                 break;
                              case "email":
                                 check = /^[A-Za-z\@\.]/.test(value);
                                 break;
                              default:
                                 break;
                           }
                              
                           this.classList.remove('undef');
                           this.classList.remove('invalid');
                           this.classList.remove('valid');

                           if (check)
                              this.classList.add('valid');
                           else
                              this.classList.add('invalid');
                        }
                     
                     });
                  }


               </script>




         <script>
            // Функция показа
            function show(state) 
            {
               document.getElementById("registration").style.display = state;
               document.getElementById("blackout").style.display = state;
               document.getElementById("surname").focus();
            }
         </script>

   </body>
</html>